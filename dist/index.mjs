function S(o,y){let r=o.children[0].cloneNode(!0);return r.src=o.getAttribute("href")||"",r.style.maxWidth="100%",r.style.maxHeight="100%",r.style.borderRadius=y.borderRadius+"px",r}function k(o,y,r,h){let e=document.createElement("button");e.classList.add("xswipe-next-button"),e.style.width="fit-content",e.style.height="100%",e.style.boxSizing="border-box",e.style.paddingLeft=o.padding+"px",e.style.backgroundColor="transparent",e.style.position="absolute",e.style.right="-"+o.padding+"px",e.style.top="50%",e.style.transform="translateY(-50%)",e.style.color="white",e.style.border="none",e.style.cursor="pointer",e.style.outline="none",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.lineHeight="0",e.innerHTML=`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width=${o.actionsSize/1.5+"px"} height=${o.actionsSize/1.5+"px"}>
    <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
    </svg>`;let t=document.createElement("button");return t.classList.add("xswipe-previous-button"),t.style.width="fit-content",t.style.height="100%",t.style.boxSizing="border-box",t.style.paddingRight=o.padding+"px",t.style.backgroundColor="transparent",t.style.position="absolute",t.style.left="-"+o.padding+"px",t.style.top="50%",t.style.transform="translateY(-50%)",t.style.color="white",t.style.border="none",t.style.cursor="pointer",t.style.outline="none",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.lineHeight="0",t.innerHTML=`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width=${o.actionsSize/1.5+"px"} height=${o.actionsSize/1.5+"px"}>
    <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" />
    </svg>`,r<=0&&(t.style.display="none"),r>=h&&(e.style.display="none"),{next:e,previous:t}}function L(o,y,r,h){let e=document.createElement("div");e.classList.add("xswipe-actions"),e.style.position="absolute",e.style.boxSizing="border-box",e.style.bottom="0",e.style.left="50%",e.style.transform="translateX(-50%)",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.borderTopLeftRadius=o.borderRadius+"px",e.style.borderTopRightRadius=o.borderRadius+"px",e.style.overflow="hidden";let t=document.createElement("button");t.classList.add("xswipe-close-button"),t.style.width=o.actionsSize+"px",t.style.height=o.actionsSize+"px",t.style.backgroundColor=o.closeColor,t.style.color="white",t.style.border="none",t.style.cursor="pointer",t.style.outline="none",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.lineHeight="0",t.innerHTML=`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width=${o.actionsSize/1.5+"px"} height=${o.actionsSize/1.5+"px"}>
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
    </svg>`;let l=document.createElement("button");l.classList.add("xswipe-fullscreen-button"),l.style.width=o.actionsSize+"px",l.style.height=o.actionsSize+"px",l.style.backgroundColor=o.actionsColor,l.style.color="white",l.style.border="none",l.style.cursor="pointer",l.style.outline="none",l.style.display="flex",l.style.justifyContent="center",l.style.alignItems="center",l.style.lineHeight="0",l.innerHTML=`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width=${o.actionsSize/1.5+"px"} height=${o.actionsSize/1.5+"px"}>
    <path stroke-linecap="round" stroke-linejoin="round" d="M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25" />
    </svg>`;let i=document.createElement("button");i.classList.add("xswipe-fullscreen-button"),i.style.width=o.actionsSize+"px",i.style.height=o.actionsSize+"px",i.style.backgroundColor=o.actionsColor,i.style.color="white",i.style.border="none",i.style.cursor="pointer",i.style.outline="none",i.style.display="flex",i.style.justifyContent="center",i.style.alignItems="center",i.style.lineHeight="0",i.innerHTML=`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width=${o.actionsSize/1.5+"px"} height=${o.actionsSize/1.5+"px"}>
    <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM10.5 7.5v6m3-3h-6" />
    </svg>`;let s=document.createElement("div");return s.classList.add("xswipe-informations"),s.style.minWidth=o.actionsSize+"px",s.style.boxSizing="border-box",s.style.padding="4px",s.style.height=o.actionsSize+"px",s.style.backgroundColor=o.actionsColor,s.style.color="white",s.style.border="none",s.style.display="flex",s.style.justifyContent="center",s.style.alignItems="center",s.style.lineHeight="1",s.style.fontSize="14px",s.textContent=`${r+1} / ${h+1}`,e.appendChild(s),o.allowZoom&&e.appendChild(i),o.allowFullscreen&&e.appendChild(l),e.appendChild(t),{actions:e,close:t}}function b(o,y){document.dispatchEvent(new Event("xswipe-"+y)),o&&o()}var M=class{constructor({name:y,wrapper:r,elements:h,opts:e,onPrevClick:t,onNextClick:l,onCloseClick:i}){this.initXSwipe({name:y,wrapper:r,elements:h,opts:e,onPrevClick:t,onNextClick:l,onCloseClick:i})}initXSwipe({name:y,wrapper:r,elements:h,opts:e,onPrevClick:t,onNextClick:l,onCloseClick:i}){let s=document.querySelector(r),m=document.querySelectorAll(h);if(s===null){console.error(`XSwipe: Wrapper element "${r}" not found.`);return}if(m.length===0){console.error(`XSwipe: Elements "${h}" not found.`);return}let d={name:y??"XSwipe",zoomLevel:e?.zoomLevel??1,allowZoom:e?.allowZoom??!1,allowFullscreen:e?.allowFullscreen??!1,allowDownload:e?.allowDownload??!1,allowShare:e?.allowShare??!1,bgColor:e?.bgColor??"rgba(0, 0, 0, 0.9)",navigationPosition:e?.navigationPosition??"bottom",padding:30,borderRadius:10,closeColor:"red",actionsColor:"gray",actionsSize:42};m.forEach((z,v)=>{z.addEventListener("click",R=>{R.preventDefault();let p=v,f=m.length-1,n=document.createElement("div");n.classList.add("xswipe-wrapper"),n.style.width="100%",n.style.height="100%",n.style.overflow="hidden",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.right="0",n.style.bottom="0",n.style.zIndex="9999",n.style.backgroundColor=d.bgColor,n.style.display="flex",n.style.justifyContent="center",n.style.alignItems="center",n.style.paddingTop=d.padding+"px",n.style.paddingLeft=d.padding+"px",n.style.paddingRight=d.padding+"px",n.style.paddingBottom=d.padding+d.actionsSize+"px",n.style.boxSizing="border-box";let c=document.createElement("div");c.classList.add("xswipe-container"),c.style.position="relative",c.style.width="fit-content",c.style.height="fit-content";let a=document.createElement("div");a.classList.add("xswipe-content-wrapper"),a.style.width="fit-content",a.style.height="fit-content",a.style.lineHeight="0",a.style.borderRadius=d.borderRadius+"px",a.style.maxHeight="calc(100vh - "+d.padding*2+"px)",a.style.overflow="auto";let x=S(z,d),C=L(d,v,p,f),u=k(d,v,p,f);a.appendChild(x),c.appendChild(u.previous),c.appendChild(u.next),c.appendChild(a),n.appendChild(c),n.appendChild(C.actions),document.body.appendChild(n);function E(){C.close.addEventListener("click",()=>{n.remove(),b(i,"close-button")})}function H(){C.actions.remove(),C=L(d,p,p,f),n.appendChild(C.actions),E()}function $(){u.next.addEventListener("click",()=>{p<f&&(p++,x.remove(),x=S(m[p],d),a.appendChild(x),H(),j(),b(l,"click-next"))}),u.previous.addEventListener("click",()=>{p>0&&(p--,x.remove(),x=S(m[p],d),a.appendChild(x),H(),j(),b(t,"click-prev"))})}function j(){u.previous.remove(),u.next.remove(),u=k(d,v,p,f),c.appendChild(u.previous),c.appendChild(u.next),$()}E(),$(),n.addEventListener("click",A=>{A.target===n&&(n.remove(),b(i,"click-close"))})})})}};export{M as XSwipe};
